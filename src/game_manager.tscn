[gd_scene load_steps=5 format=3 uid="uid://dqcwmuvs02sdx"]

[ext_resource type="Texture2D" uid="uid://cjxvcj0aimtxa" path="res://dummy.png" id="1_8cjmr"]
[ext_resource type="Script" path="res://src/game_manager.gd" id="1_ntnnl"]
[ext_resource type="PackedScene" uid="uid://wrag78ilftgy" path="res://src/deck.tscn" id="3_he6rw"]
[ext_resource type="PackedScene" uid="uid://bvvtk2erm0o8d" path="res://src/char_sheet.tscn" id="4_e023n"]

[node name="GameManager" type="Control"]
texture_filter = 1
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_ntnnl")

[node name="dummy" type="TextureRect" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("1_8cjmr")

[node name="TrainPile" parent="." instance=ExtResource("3_he6rw")]
layout_mode = 0
offset_left = 232.0
offset_top = 8.0
offset_right = 296.0
offset_bottom = 104.0
deck_type = 1

[node name="EncounterPile" parent="." instance=ExtResource("3_he6rw")]
layout_mode = 0
offset_left = 136.0
offset_top = 8.0
offset_right = 200.0
offset_bottom = 104.0
deck_type = 2

[node name="Player1Pile" parent="." instance=ExtResource("3_he6rw")]
layout_mode = 0
offset_left = 360.0
offset_top = 256.0
offset_right = 424.0
offset_bottom = 352.0
deck_owner = 1

[node name="Player2Pile" parent="." instance=ExtResource("3_he6rw")]
layout_mode = 0
offset_left = 536.0
offset_top = 256.0
offset_right = 600.0
offset_bottom = 352.0
deck_owner = 2

[node name="Log" type="TextEdit" parent="."]
layout_mode = 0
offset_left = 696.0
offset_right = 960.0
offset_bottom = 120.0
theme_override_font_sizes/font_size = 10
editable = false

[node name="Train" type="HBoxContainer" parent="."]
layout_mode = 0
offset_top = 104.0
offset_right = 960.0
offset_bottom = 208.0
theme_override_constants/separation = 8
alignment = 1

[node name="MoveLeft" type="Button" parent="."]
layout_mode = 0
offset_left = 344.0
offset_top = 216.0
offset_right = 424.0
offset_bottom = 247.0
text = "<- Move"

[node name="MoveRight" type="Button" parent="."]
layout_mode = 0
offset_left = 536.0
offset_top = 216.0
offset_right = 616.0
offset_bottom = 247.0
text = "Move ->"

[node name="EndTurn" type="Button" parent="."]
layout_mode = 0
offset_left = 440.0
offset_top = 424.0
offset_right = 520.0
offset_bottom = 464.0
text = "EndTurn"

[node name="DebugModifierP1" type="Button" parent="."]
layout_mode = 0
offset_left = 216.0
offset_top = 376.0
offset_right = 296.0
offset_bottom = 416.0
text = "Modifier"

[node name="DebugModifierP2" type="Button" parent="."]
layout_mode = 0
offset_left = 664.0
offset_top = 376.0
offset_right = 744.0
offset_bottom = 416.0
text = "Modifier"

[node name="Search" type="Button" parent="."]
layout_mode = 0
offset_left = 440.0
offset_top = 216.0
offset_right = 520.0
offset_bottom = 248.0
text = "Search"

[node name="CharSheetP1" parent="." instance=ExtResource("4_e023n")]
layout_mode = 0
offset_left = 304.0
offset_top = 376.0
offset_right = 432.0
offset_bottom = 464.0

[node name="CharSheetP2" parent="." instance=ExtResource("4_e023n")]
layout_mode = 0
offset_left = 528.0
offset_top = 376.0
offset_right = 656.0
offset_bottom = 464.0

[node name="PhaseDisplay" type="Panel" parent="."]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -128.0
offset_right = 128.0
offset_bottom = 32.0
grow_horizontal = 2

[node name="Label" type="Label" parent="PhaseDisplay"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
text = "Phase"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Windows" type="ColorRect" parent="."]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 0.505882)

[node name="PlayerSelect" type="Panel" parent="Windows"]
visible = false
layout_mode = 0
offset_left = 328.0
offset_top = 240.0
offset_right = 552.0
offset_bottom = 336.0

[node name="Label" type="Label" parent="Windows/PlayerSelect"]
layout_mode = 0
offset_right = 224.0
offset_bottom = 40.0
text = "Select Starting Player"
horizontal_alignment = 1
vertical_alignment = 1

[node name="P1" type="Button" parent="Windows/PlayerSelect"]
layout_mode = 0
offset_left = 8.0
offset_top = 48.0
offset_right = 78.0
offset_bottom = 79.0
text = "Player 1"

[node name="P2" type="Button" parent="Windows/PlayerSelect"]
layout_mode = 0
offset_left = 144.0
offset_top = 48.0
offset_right = 214.0
offset_bottom = 79.0
text = "Player 2"

[node name="NoActions" type="Panel" parent="Windows"]
visible = false
layout_mode = 0
offset_left = 328.0
offset_top = 240.0
offset_right = 552.0
offset_bottom = 336.0

[node name="Label" type="Label" parent="Windows/NoActions"]
layout_mode = 0
offset_top = 8.0
offset_right = 224.0
offset_bottom = 60.0
text = "No more action points!"
horizontal_alignment = 1
vertical_alignment = 1

[node name="NoActionsEndTurn" type="Button" parent="Windows/NoActions"]
layout_mode = 0
offset_left = 72.0
offset_top = 56.0
offset_right = 142.0
offset_bottom = 87.0
text = "EndTurn"

[node name="DebugNext" type="Button" parent="."]
layout_mode = 0
offset_left = 440.0
offset_top = 40.0
offset_right = 535.0
offset_bottom = 71.0
text = "DebugNext"

[node name="DebugLabel" type="Label" parent="."]
layout_mode = 0
offset_left = 320.0
offset_top = 40.0
offset_right = 440.0
offset_bottom = 136.0
theme_override_font_sizes/font_size = 10

[connection signal="button_up" from="MoveLeft" to="." method="_on_move_left_button_up"]
[connection signal="button_up" from="MoveRight" to="." method="_on_move_right_button_up"]
[connection signal="button_up" from="EndTurn" to="." method="_on_end_turn_button_up"]
[connection signal="button_up" from="DebugModifierP1" to="." method="_on_debug_modifier_p_1_button_up"]
[connection signal="button_up" from="DebugModifierP2" to="." method="_on_debug_modifier_p_2_button_up"]
[connection signal="button_up" from="Search" to="." method="_on_search_button_up"]
[connection signal="button_up" from="Windows/PlayerSelect/P1" to="." method="_on_p_1_button_up"]
[connection signal="button_up" from="Windows/PlayerSelect/P2" to="." method="_on_p_2_button_up"]
[connection signal="button_up" from="Windows/NoActions/NoActionsEndTurn" to="." method="_on_no_actions_end_turn_button_up"]
[connection signal="button_up" from="DebugNext" to="." method="_on_debug_next_button_up"]
